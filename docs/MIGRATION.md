# è¿ç§»å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ è¿ç§»æ¦‚è§ˆ

å·²æˆåŠŸå°† `~/panda/webbox-admin/src/pages` çš„æ‰€æœ‰ä¸šåŠ¡é€»è¾‘è¿ç§»åˆ°å½“å‰ admin è·¯ç”±ï¼Œå¹¶ä½¿ç”¨å°è£…çš„ **Ant Design é£æ ¼ç»„ä»¶**æ›¿æ¢åŸæœ‰å®ç°ã€‚

## âœ… å·²å®Œæˆè¿ç§»çš„é¡µé¢

### 1. **ç”¨æˆ·ç®¡ç†** (`/users`)
- è·¯å¾„ï¼š`src/app/(admin)/users/page.tsx`
- åŠŸèƒ½ï¼šç”¨æˆ·åˆ—è¡¨ã€åˆ é™¤ç”¨æˆ·
- ç»„ä»¶ï¼š`AntTable`, `AntButton`, `Modal`

### 2. **åŸŸåç®¡ç†** (`/domains`)
- è·¯å¾„ï¼š`src/app/(admin)/domains/page.tsx`
- åŠŸèƒ½ï¼šåŸŸååˆ—è¡¨ã€é¡¹ç›®ç»„ç­›é€‰ã€åˆ é™¤åŸŸå
- ç»„ä»¶ï¼š`AntTable`, `AntButton`, `AntSelect`, `Modal`

### 3. **è·¯ç”±ç®¡ç†** (`/routes`)
- è·¯å¾„ï¼š`src/app/(admin)/routes/page.tsx`
- åŠŸèƒ½ï¼šè·¯ç”±è§„åˆ™åˆ—è¡¨ã€å¯ç”¨/ç¦ç”¨åˆ‡æ¢ã€åˆ é™¤è§„åˆ™
- ç»„ä»¶ï¼š`AntTable`, `AntButton`, `Modal`

### 4. **æ¨¡æ¿ç®¡ç†** (`/templates`)
- è·¯å¾„ï¼š`src/app/(admin)/templates/page.tsx`
- åŠŸèƒ½ï¼šæ¨¡æ¿åˆ—è¡¨ã€HTML é¢„è§ˆã€åˆ é™¤æ¨¡æ¿
- ç»„ä»¶ï¼š`AntTable`, `AntButton`, `Modal`

### 5. **é¦–é¡µ** (`/`)
- è·¯å¾„ï¼š`src/app/(admin)/page.tsx`
- åŠŸèƒ½ï¼šDashboardã€ç»Ÿè®¡å¡ç‰‡ã€å¿«æ·æ“ä½œ
- ç»„ä»¶ï¼š`AntButton`

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
packages/admin-service/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # API è¯·æ±‚å±‚
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ domain.ts
â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ template.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ request.ts
â”‚   â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ utils.ts           # cn() ç±»ååˆå¹¶
â”‚   â”‚   â”œâ”€â”€ request.ts         # HTTP è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ toast.ts           # Toast é€šçŸ¥
â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶ï¼ˆä¸€çº§ç›®å½•ï¼‰
â”‚   â”‚   â”œâ”€â”€ AntTable.tsx       # è¡¨æ ¼å°è£…
â”‚   â”‚   â”œâ”€â”€ AntButton.tsx      # æŒ‰é’®å°è£…
â”‚   â”‚   â”œâ”€â”€ AntSelect.tsx      # é€‰æ‹©å™¨å°è£…
â”‚   â”‚   â”œâ”€â”€ AntModal.tsx       # å¯¹è¯æ¡†å°è£…
â”‚   â”‚   â”œâ”€â”€ AntInput.tsx       # è¾“å…¥æ¡†å°è£…
â”‚   â”‚   â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â””â”€â”€ ...                # shadcn/ui åŸå§‹ç»„ä»¶
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ (admin)/           # ç®¡ç†åå°è·¯ç”±ç»„
â”‚       â”‚   â”œâ”€â”€ layout.tsx     # ç®¡ç†å¸ƒå±€
â”‚       â”‚   â”œâ”€â”€ page.tsx       # é¦–é¡µ
â”‚       â”‚   â”œâ”€â”€ users/         # ç”¨æˆ·ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ domains/       # åŸŸåç®¡ç†
â”‚       â”‚   â”œâ”€â”€ routes/        # è·¯ç”±ç®¡ç†
â”‚       â”‚   â””â”€â”€ templates/     # æ¨¡æ¿ç®¡ç†
â”‚       â”œâ”€â”€ demo/              # ç»„ä»¶ç¤ºä¾‹
â”‚       â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚       â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚       â””â”€â”€ page.tsx           # ç™»å½•é¡µé¢
â””â”€â”€ components.json            # shadcn/ui é…ç½®
```

## ğŸ”„ è¿ç§»å˜æ›´å¯¹æ¯”

### ç»„ä»¶æ›¿æ¢æ˜ å°„

| åŸç»„ä»¶ | æ–°ç»„ä»¶ | ç‰¹ç‚¹ |
|--------|--------|------|
| `DataTable` | `AntTable` | columns/dataSource é…ç½®ï¼Œæ”¯æŒæ’åºã€åˆ†é¡µã€è¡Œé€‰æ‹© |
| `Button` (shadcn) | `AntButton` | type/size/loading ç®€åŒ– API |
| `Select` (shadcn) | `AntSelect` | options æ•°ç»„é…ç½® |
| `createDialog` | `Modal.confirm/info/...` | å‘½ä»¤å¼è°ƒç”¨ |
| `toast` (è‡ªå®šä¹‰) | `toast` (ç®€åŒ–ç‰ˆ) | ç»Ÿä¸€é€šçŸ¥ API |

### API è°ƒç”¨å˜æ›´

#### ä¹‹å‰ï¼ˆä½¿ç”¨è‡ªå®šä¹‰ requestï¼‰
```tsx
import { apiRequest } from '@/api/request'
import request from '@/utils/request'
```

#### ä¹‹åï¼ˆç»Ÿä¸€çš„ requestï¼‰
```tsx
import { getUserList } from '@/api/user'
// å†…éƒ¨ä½¿ç”¨ @/lib/request
```

## ğŸ¨ ä¸»è¦ä¼˜åŒ–

### 1. **ç»„ä»¶å°è£…ç®€åŒ–**
- å°† shadcn/ui åŸå­ç»„ä»¶å°è£…æˆ Ant Design é£æ ¼
- å‡å°‘ 90% çš„æ¨¡æ¿ä»£ç 
- ç»Ÿä¸€çš„ API é£æ ¼

### 2. **ä¸€çº§ç›®å½•ç»“æ„**
- æ‰€æœ‰ç»„ä»¶ç›´æ¥æ”¾åœ¨ `components/` ä¸‹
- é¿å…æ·±å±‚åµŒå¥—
- æ›´æ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡

### 3. **ç±»å‹å®‰å…¨**
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- API å“åº”ç±»å‹
- ç»„ä»¶ Props ç±»å‹

### 4. **ç»Ÿä¸€çš„è¯·æ±‚å±‚**
```typescript
// src/lib/request.ts
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- è‡ªåŠ¨ JSON åºåˆ—åŒ–
- æ”¯æŒ credentials (cookies)
- ç±»å‹å®‰å…¨çš„å“åº”
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### è¡¨æ ¼ç»„ä»¶

```tsx
// ä¹‹å‰ï¼ˆæ‰‹åŠ¨æ‹¼è£…ï¼‰
<Table>
  <TableHeader>
    <TableRow>
      <TableHead>ç”¨æˆ·å</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    {data.map(item => (
      <TableRow key={item.id}>
        <TableCell>{item.username}</TableCell>
      </TableRow>
    ))}
  </TableBody>
</Table>

// ä¹‹åï¼ˆå£°æ˜å¼é…ç½®ï¼‰
<AntTable
  columns={[
    { title: 'ç”¨æˆ·å', dataIndex: 'username' }
  ]}
  dataSource={data}
  rowKey="id"
/>
```

### å¯¹è¯æ¡†

```tsx
// ä¹‹å‰
createDialog({
  title: 'ç¡®è®¤åˆ é™¤',
  children: () => <ConfirmContent />
})

// ä¹‹å
Modal.confirm({
  title: 'ç¡®è®¤åˆ é™¤',
  content: 'ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ',
  onOk: async () => { await deleteData() }
})
```

## ğŸš€ å¯åŠ¨é¡¹ç›®

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®
http://localhost:3003
```

## ğŸ“Œ è·¯ç”±å¯¼èˆª

- é¦–é¡µï¼š`/`
- ç”¨æˆ·ç®¡ç†ï¼š`/users`
- åŸŸåç®¡ç†ï¼š`/domains`
- è·¯ç”±ç®¡ç†ï¼š`/routes`
- æ¨¡æ¿ç®¡ç†ï¼š`/templates`
- ç»„ä»¶ç¤ºä¾‹ï¼š`/demo`

## âš™ï¸ ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# API æœåŠ¡åœ°å€
NEXT_PUBLIC_API_URL=http://localhost:3002
```

## ğŸ“¦ å·²å®‰è£…çš„ä¾èµ–

```json
{
  "dependencies": {
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.0.0",
    "tailwind-merge": "^2.0.0",
    "lucide-react": "^0.292.0"
  }
}
```

## ğŸ”§ å¾…å®Œå–„åŠŸèƒ½

ä»¥ä¸‹åŠŸèƒ½åœ¨é¡µé¢ä¸­é¢„ç•™äº†æ¥å£ï¼Œä½†éœ€è¦å®Œæ•´çš„è¡¨å•ç»„ä»¶å®ç°ï¼š

1. **æ–°å¢/ç¼–è¾‘åŠŸèƒ½**
   - ç”¨æˆ·æ–°å¢/ç¼–è¾‘è¡¨å•
   - åŸŸåæ–°å¢/ç¼–è¾‘è¡¨å•
   - è·¯ç”±è§„åˆ™æ–°å¢/ç¼–è¾‘è¡¨å•
   - æ¨¡æ¿æ–°å¢/ç¼–è¾‘è¡¨å•

2. **è¯¦æƒ…æŸ¥çœ‹**
   - åŸŸåè¯¦æƒ…å¯¹è¯æ¡†
   - è·¯ç”±è§„åˆ™è¯¦æƒ…å¯¹è¯æ¡†
   - æ¨¡æ¿è¯¦æƒ…å¯¹è¯æ¡†

3. **é«˜çº§åŠŸèƒ½**
   - åŸŸåé…ç½®å…³è”
   - æ‰¹é‡æ“ä½œ
   - æ•°æ®å¯¼å…¥/å¯¼å‡º

è¿™äº›åŠŸèƒ½çš„ API æ¥å£å·²ç»å‡†å¤‡å¥½ï¼Œåªéœ€è¦åˆ›å»ºå¯¹åº”çš„è¡¨å•ç»„ä»¶å³å¯ã€‚

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [ç»„ä»¶å°è£…æ–‡æ¡£](./COMPONENTS.md)
- [shadcn/ui é…ç½®](./components.json)
- [ç»„ä»¶ç¤ºä¾‹é¡µé¢](/demo)

## âœ¨ è¿ç§»æˆæœ

- âœ… 5 ä¸ªä¸»è¦é¡µé¢å®Œå…¨è¿ç§»
- âœ… ä½¿ç”¨ç»Ÿä¸€çš„ Ant Design é£æ ¼ç»„ä»¶
- âœ… ä¸€çº§ç›®å½•ç»“æ„ï¼Œæ¸…æ™°æ˜“ç»´æŠ¤
- âœ… å®Œæ•´çš„ç±»å‹å®‰å…¨
- âœ… å¼€å‘æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ
- âœ… æ‰€æœ‰è·¯ç”±æ­£å¸¸è®¿é—®

---

**è¿ç§»å®Œæˆï¼ğŸ‰ ç°åœ¨å¯ä»¥åŸºäºè¿™ä¸ªåŸºç¡€ç»§ç»­å¼€å‘ä¸šåŠ¡åŠŸèƒ½äº†ã€‚**
